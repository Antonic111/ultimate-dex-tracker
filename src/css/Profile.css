/* ================================
   GENERAL WRAPPER + BACKGROUND
================================== */

input:focus,
select:focus,
textarea:focus,
button:focus {
  outline: none;
  box-shadow: none;
}

.profile-wrapper {
  @apply flex flex-col items-center py-16 px-4 mb-0 flex-1 w-full;
}

.profile-two-column {
  @apply grid grid-cols-[1fr_1px_1fr] gap-12 max-w-[1300px] w-full bg-[var(--profile-card-bg)] p-8 rounded-lg shadow-lg text-gray-200 relative overflow-hidden z-10;
}

.profile-two-column::before {
  content: "";
  @apply absolute inset-0 pointer-events-none z-[-1];
  background: linear-gradient(140deg, transparent 30%, var(--accent), transparent 70%);
  opacity: 10%;
}

.profile-divider {
  @apply bg-[var(--dividers)] w-0.5 h-auto rounded-full;
}

/* ================================
   HEADER BAR
================================== */

.profile-header-bar {
  @apply w-full max-w-[1300px] bg-[var(--profile-top-bg)] transition-all duration-200 flex justify-between items-center p-6 rounded-lg mb-6 shadow-lg;
}

.profile-header-left {
  @apply flex flex-col justify-center gap-1;
}

.profile-header-left .profile-username {
  @apply text-[1.8rem] font-bold m-0 flex items-center gap-3 text-[var(--profile-text)] transition-colors duration-200;
}

.profile-header-left .profile-date {
  @apply text-[0.95rem] text-gray-400 m-0;
}

.profile-header-right {
  @apply flex items-center gap-4;
}

.profile-links {
  @apply flex gap-3;
}

.profile-links a {
  @apply text-[var(--accent)] no-underline text-[0.9rem] font-medium transition-colors duration-200 flex items-center gap-1.5;
}

.profile-links a:hover {
  @apply text-[var(--accent-hover)];
}

.profile-edit-btn,
.profile-cancel-btn {
  @apply flex items-center gap-2 px-3.5 py-2 bg-[var(--accent)] text-black font-bold border-none rounded-lg cursor-pointer transition-colors duration-200;
}

.profile-edit-btn:hover,
.profile-cancel-btn:hover {
  @apply bg-[var(--accent-hover)] text-[var(--text)];
}

/* Buttons row */
.profile-actions {
  @apply flex items-center gap-2.5;
}

/* ================================
   LEFT SIDE
================================== */

.profile-left {
  @apply flex flex-col gap-3 w-full;
}

.profile-header-row {
  @apply flex gap-10 items-start mb-2.5 flex-nowrap;
}

.profile-avatar-block {
  @apply flex-shrink-0 flex justify-center items-center;
}

.profile-avatar {
  @apply w-40 h-40 rounded-full border-4 border-[var(--border-color)] bg-gradient-to-br from-[var(--pokemon-box-bg)] to-[var(--pokemon-box-bg2)] overflow-hidden flex items-center justify-center;
}

.profile-avatar-img {
  @apply w-full h-auto object-contain;
  image-rendering: pixelated;
}

.profile-bio-block {
  @apply flex-grow min-w-0 max-w-full w-full flex flex-col justify-end pt-3 pb-6 overflow-hidden;
}

.profile-row-split {
  @apply flex gap-4 flex-wrap;
}

.profile-row-split .profile-field {
  @apply flex-1 min-w-[180px] mb-0;
}

.profile-field.full-span {
  @apply col-span-full mt-3;
}

/* ================================
   RIGHT SIDE
================================== */

.profile-right {
  @apply flex flex-col gap-4 pt-6 w-full;
}

.profile-stats-grid {
  @apply grid grid-cols-2 gap-4;
}

.profile-stats-grid .full-span {
  @apply col-span-2;
}

.profile-stats-grid .recent-field {
  @apply col-span-2;
}

/* Simple section heading to match favorites layout */
.profile-simple-section { 
  @apply mt-2; 
}

.profile-simple-section h3 {
  @apply m-0 text-xl text-[var(--accent)] pb-5;
}

/* ================================
   FAVORITES (Games & Pokémon)
================================== */

.profile-ranking-group {
  @apply flex flex-col gap-4 mt-8 w-full flex-grow;
}

.profile-ranking-group h3 {
  @apply m-0 text-xl text-[var(--profile-labels)] pb-5;
}

/* Recent Pokémon label uses default .profile-field label styling to match Top Mark/Game */

.profile-rank-row {
  @apply flex justify-between gap-3 w-full flex-grow;
}

.profile-rank-item {
  @apply relative flex flex-col items-center w-24;
}

.square-image {
  @apply w-16 h-16 rounded-[15px] overflow-hidden bg-[var(--pokemon-box-bg)] text-[0px];
}

.square-image img {
  @apply w-full h-full object-cover text-[0px];
}

.rank-label {
  @apply mt-1.5 text-[0.7rem] text-[var(--profile-labels)] transition-colors duration-200 leading-tight text-center break-words max-w-full;
}

/* date under name in recent section */
.recent-date-label {
  @apply mt-0.5 text-[0.7rem] text-gray-400 text-center;
}

/* ensure field-display container for recent section expands and matches other boxes */
.recent-field-box {
  @apply block p-4 min-h-[140px];
}

/* Override for recent Pokemon section */
.recent-field .profile-rank-row {
  @apply justify-start gap-3 flex-nowrap py-2 w-full;
}

/* Empty slot placeholders for recent Pokemon */
.empty-pokemon-placeholder {
  @apply w-24 h-24 bg-[var(--pokemon-box-bg)] border-2 border-dashed border-[var(--border-color)] rounded-lg;
}

.empty-name-placeholder {
  @apply w-20 h-4 bg-[var(--pokemon-box-bg)] rounded mx-auto;
}

/* LATEST badge styling */
.newest-badge {
  @apply absolute top-3 -right-2 bg-gradient-to-br from-red-400 to-red-600 text-white text-xs font-bold px-2 py-1 rounded-xl shadow-lg z-10 border-2 border-white;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
}

/* Shiny indicator styling */
.shiny-indicator {
  @apply absolute top-0.5 left-1 flex items-center justify-center;
}

.shiny-sparkles-icon {
  @apply text-yellow-500 opacity-100 w-5 h-5;
}

/* Recent Pokemon specific styling */
.recent-field .profile-rank-item {
  @apply relative min-h-[140px] flex flex-col items-center justify-center pt-3;
}

.recent-field .profile-pokemon-box {
  @apply relative flex-shrink-0 mb-1;
}

.recent-field .rank-label {
  @apply mt-0 flex flex-col items-center min-h-10 justify-start;
}

/* Tighter spacing for form tags in recent entries */
.recent-field .form-type-tag {
  @apply mt-0.5 px-1 py-0.5 text-[0.65rem];
}

/* Form type tag styling - Updated */
.form-type-tag {
  @apply text-[0.7rem] text-[var(--accent)] rounded-lg px-1 py-0.5 mt-0.5 text-center font-medium capitalize flex-shrink-0 leading-tight;
}

/* No recent Pokemon message styling */
.no-recent-pokemon {
  @apply text-center p-10 w-full h-[120px] flex items-center justify-center relative;
  background: transparent;
  border: none;
  border-radius: 8px;
}

.no-recent-pokemon p {
  @apply text-base font-normal m-0 text-[var(--profile-labels)] text-center w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2;
}

.trophy-icon {
  @apply absolute -top-6 bg-transparent;
}

.trophy-1 svg {
  @apply text-yellow-500;
}

.trophy-2 svg {
  @apply text-gray-400;
}

.trophy-3 svg {
  @apply text-amber-700;
}

/* ================================
   FIELD STYLING
================================== */

.profile-field {
  @apply flex flex-col gap-1.5 mb-4;
}

.profile-field label {
  @apply text-[0.9rem] text-[var(--profile-labels)] transition-colors duration-200 mb-1;
}

.profile-field input,
.profile-field select,
.profile-field textarea {
  @apply transition-all duration-200 text-[var(--profile-text)] text-[0.95rem] font-normal leading-relaxed px-4 py-3 rounded-md w-full box-border flex items-center gap-2;
  background: var(--profile-fields);
  backdrop-filter: blur(10px);
  border: 1px solid var(--border-color);
}

/* Field display styling for view mode - transparent effect */
.field-display {
  @apply transition-all duration-200 text-[var(--profile-text)] text-[0.95rem] font-normal leading-relaxed px-4 py-3 rounded-md w-full box-border flex items-center gap-2;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  opacity: 0.8;
}

.profile-two-column.editing-mode .profile-field input,
.profile-two-column.editing-mode .profile-field select,
.profile-two-column.editing-mode .profile-field textarea {
  @apply text-[var(--profile-text)] font-normal z-10 flex items-center gap-2 min-h-11 h-11 box-border;
  background: var(--profile-fields);
  border: 1px solid var(--border-color);
}

.profile-two-column.editing-mode .profile-bio-block textarea {
  @apply text-[var(--profile-text)];
}

/* Bio-specific height & alignment */
.profile-bio-block .field-display {
  @apply min-h-[140px] block items-start leading-relaxed p-3 break-words overflow-hidden max-w-full box-border w-full relative;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  opacity: 0.8;
}

/* Field display styling for icon + text layout */
.field-display {
  @apply flex items-center gap-2 h-11 box-border break-words;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  opacity: 0.8;
}

.profile-field textarea {
  @apply resize-none min-h-[140px] leading-relaxed text-base box-border;
}

/* Override flex properties for textarea inputs in edit mode */
.profile-two-column.editing-mode .profile-field textarea {
  @apply flex items-start gap-2 min-h-[140px];
}

/* Bio field validation message positioning */
.profile-bio-block .profile-field {
  @apply relative;
}

.profile-bio-block .profile-field label {
  @apply flex items-center gap-3;
}

.profile-bio-block .profile-field .validation-messages {
  @apply absolute -top-8 right-0 m-0 p-0;
}

.profile-bio-block .profile-field .validation-error {
  @apply text-red-500 text-sm font-medium whitespace-nowrap;
}

/* Remove validation colors from bio field */
.profile-bio-block .content-filter-wrapper .content-filter-input,
.profile-bio-block .content-filter-wrapper.has-error .content-filter-input,
.profile-bio-block .content-filter-wrapper.has-warning .content-filter-input,
.profile-bio-block .content-filter-wrapper.is-valid .content-filter-input {
  @apply shadow-none;
  border: 1px solid var(--border-color);
  background: var(--profile-fields);
}

.profile-bio-block .content-filter-wrapper .content-filter-input:focus {
  @apply shadow-none;
  border: 1px solid var(--border-color);
}

/* ================================
   FULL DEX BUTTON
================================== */

.profile-full-dex-button {
  @apply mt-6 flex justify-center w-full col-span-full;
}

.profile-full-dex-link {
  @apply inline-flex items-center justify-center bg-[var(--accent)] text-black font-bold no-underline px-5 py-3 rounded-lg text-[0.95rem] transition-colors duration-200 min-w-40;
}

.profile-full-dex-link:hover {
  @apply bg-[var(--accent-hover)] text-[var(--text)];
}

/* Pokémon */
.empty-pokemon-slot {
  @apply w-24 h-24 flex justify-center items-center border-2 border-dashed border-[var(--border-color)] bg-transparent cursor-pointer;
}

.empty-pokemon-slot .edit-icon {
  @apply text-gray-400;
  stroke-width: 1.75;
}

.profile-pokemon-box {
  @apply w-24 h-24 flex justify-center items-center;
}

.profile-pokemon-box .pokemon-img,
.recent-field .pokemon-img {
  @apply w-20 h-20 object-contain;
}

/* Games (mirrored) */
.empty-game-slot {
  @apply w-24 h-24 flex justify-center items-center border-2 border-dashed border-[var(--border-color)] bg-transparent cursor-pointer;
}

.empty-game-slot .edit-icon {
  @apply text-gray-400;
  stroke-width: 1.75;
}

.profile-game-box {
  @apply w-24 h-24 flex justify-center items-center;
}

.game-img {
  @apply w-20 h-20 rounded-[14px] object-contain;
}

.favorite-modal-footer {
  @apply flex justify-end gap-2.5 mt-4;
}

.clear-btn {
  @apply bg-red-500 text-white border-none px-2 py-2 rounded-md cursor-pointer font-bold transition-colors duration-200;
}

.clear-btn:hover {
  @apply bg-red-600;
}

.save-btn {
  @apply bg-yellow-400 text-gray-800 border-none px-2.5 py-2 rounded-md cursor-pointer font-bold transition-colors duration-200;
}

.save-btn:hover {
  @apply bg-yellow-500;
}

/* COPY LINK BUTTON ------------------------------------------------------------- */

/* Copy link button next to the username */
.profile-top-line { 
  @apply flex items-center gap-2; 
}

.profile-copy-link{
  @apply inline-flex items-center justify-center p-0 m-0 border-0 bg-transparent text-[var(--profile-text)] cursor-pointer leading-none transition-none;
}

.profile-copy-link:hover,
.profile-copy-link:active{
  @apply text-[var(--profile-text)] border-0 outline-0 transform-none;
}

.profile-copy-link:focus{ 
  @apply outline-0; 
}

.profile-copy-link:focus-visible{ 
  @apply outline-2 outline-[var(--accent)] outline-offset-2; 
}

/* LIKE BUTTON ------------------------------------------------------------- */

.profile-like-button {
  @apply inline-flex items-center justify-center px-2.5 py-2.5 m-0 border-0 bg-transparent text-[var(--profile-text)] cursor-pointer leading-none rounded-full transition-all duration-150 ease-in-out gap-2 text-base font-medium relative overflow-visible;
}

.profile-like-button:hover {
  @apply bg-[var(--nav-link-hover-bg)] scale-105;
}

.profile-like-button.liked {
  @apply text-red-500;
}

.profile-like-button.liked:hover {
  @apply bg-transparent;
}

.profile-like-button:disabled {
  @apply opacity-60 cursor-not-allowed transform-none;
}

.profile-like-display {
  @apply inline-flex items-center justify-center px-1.5 py-2 m-0 text-[var(--profile-text)] leading-none rounded-full gap-1.5 text-sm font-medium opacity-70;
}

.like-count {
  @apply font-bold min-w-[18px] text-center;
}

/* Tiny flying hearts animation */
.profile-like-button .like-heart-anchor {
  @apply relative inline-flex items-center justify-center;
}

.profile-like-button .like-heart {
  @apply absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 scale-75 rotate-[var(--rot,0deg)] text-red-500 text-sm opacity-0 pointer-events-none;
  animation: like-burst 600ms ease-out forwards;
}

@keyframes like-burst {
  0% { 
    opacity: 1; 
    transform: translate(-50%, -50%) scale(0.6) rotate(var(--rot, 0deg)); 
  }
  100% { 
    opacity: 0; 
    transform: translate(calc(-50% + var(--tx, 0px)), calc(-50% + var(--ty, -60px))) scale(1.2) rotate(var(--rot, 0deg)); 
  }
}

/* ================================
   ICON DROPDOWN STYLING
================================== */

/* IconDropdown component styling to match sidebar exactly */
.icon-dropdown {
  @apply relative w-full;
}

.icon-dropdown-selected {
  @apply flex items-center justify-between px-3 py-2 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-[var(--accent)] focus-within:border-[var(--accent)] transition-colors duration-200 w-full;
  background-color: var(--searchbar-inputs);
  border: 1px solid var(--border-color);
  height: 42px;
  min-height: 42px;
  max-height: 42px;
  overflow: hidden;
}

.icon-dropdown-selected:hover {
  @apply bg-[var(--searchbar-inputs)] opacity-90;
}

.icon-dropdown-list {
  @apply absolute z-50 w-full mt-1 rounded-md shadow-lg max-h-60 overflow-auto;
  background-color: var(--searchbar-dropdown);
  border: 1px solid var(--border-color);
  scrollbar-width: thin;
  scrollbar-color: var(--accent) var(--searchbar-dropdown);
}

.icon-dropdown-search {
  @apply w-full px-3 py-1 text-sm bg-transparent outline-none;
  color: var(--dropdown-item-text);
  border-bottom: 1px solid var(--border-color);
  border-radius: 0.375rem 0.375rem 0 0;
}

.icon-dropdown-search::placeholder {
  color: var(--dropdown-item-text);
}

.icon-dropdown-option {
  @apply px-3 py-1 cursor-pointer transition-colors duration-150 flex items-center;
  color: var(--dropdown-item-text);
  background-color: transparent;
}

.icon-dropdown-option:hover {
  background-color: var(--dropdown-item-hover-bg);
  color: var(--dropdown-item-hover-text);
}

.icon-dropdown-option.selected {
  background-color: var(--searchbar-dropdown-selected);
  color: var(--dropdown-item-text);
}

.icon-wrapper {
  @apply flex items-center justify-center mr-2;
}

.selected-value {
  @apply font-medium;
  color: var(--dropdown-item-text);
}

.placeholder {
  color: var(--dropdown-item-text);
}

/* Prevent nested borders inside dropdown field */
.icon-dropdown-selected input,
.icon-dropdown-selected button {
  border: none !important;
  outline: none;
  box-shadow: none;
}

/* ================================
   MOBILE RESPONSIVENESS
================================== */

@media (max-width: 768px) {
  .profile-wrapper {
    @apply px-2 py-16;
  }
  
  .profile-two-column {
    @apply grid-cols-1 gap-4 p-3;
    max-width: 95%;
  }
  
  .profile-divider {
    @apply hidden;
  }
  
  .profile-header-bar {
    @apply flex-col gap-3 p-3;
    max-width: 95%;
  }
  
  .profile-header-left {
    @apply items-center text-center;
  }
  
  .profile-header-left .profile-username {
    @apply text-[1.4rem];
  }
  
  .profile-header-left .profile-date {
    @apply text-[0.8rem];
  }
  
  .profile-header-right {
    @apply w-full justify-center;
  }
  
  .profile-links {
    @apply gap-2;
  }
  
  .profile-links a {
    @apply text-[0.8rem];
  }
  
  .profile-edit-btn,
  .profile-cancel-btn {
    @apply px-3 py-1.5 text-[0.8rem];
  }
  
  .profile-header-row {
    @apply flex-col gap-3 items-center;
  }
  
  .profile-avatar {
    @apply w-24 h-24;
  }
  
  .profile-bio-block {
    @apply w-full pb-2;
  }
  
  .profile-bio-block h3 {
    @apply text-[1.1rem];
  }
  
  .profile-bio-block p {
    @apply text-[0.85rem];
  }
  
  .profile-row-split {
    @apply flex-col gap-3;
  }
  
  .profile-row-split .profile-field {
    @apply min-w-full;
  }
  
  .profile-field h3 {
    @apply text-[1rem];
  }
  
  .profile-field p {
    @apply text-[0.8rem];
  }
  
  .profile-rank-row {
    @apply justify-center flex-wrap gap-1.5;
  }
  
  .profile-rank-item {
    @apply w-16;
  }
  
  .square-image,
  .profile-pokemon-box,
  .profile-game-box {
    @apply w-12 h-12;
  }
  
  .profile-pokemon-box .pokemon-img,
  .game-img {
    @apply w-10 h-10;
  }
  
  .rank-label {
    @apply text-[0.7rem];
  }
  
  .profile-stats-grid {
    @apply grid-cols-2 gap-2;
  }
  
  .profile-stats-grid .full-span {
    @apply col-span-2;
  }
  
  .profile-stats-grid .recent-field {
    @apply col-span-2;
  }
  
  .profile-stats-grid h3 {
    @apply text-[1rem];
  }
  
  .profile-stats-grid p {
    @apply text-[0.8rem];
  }
  
  .profile-field input,
  .profile-field select,
  .profile-field textarea {
    @apply text-[0.8rem] py-1.5 px-2;
  }
  
  .profile-field label {
    @apply text-[0.8rem];
  }
  
  .profile-section h2 {
    @apply text-[1.2rem];
  }
  
  .profile-section h3 {
    @apply text-[1rem];
  }
  
  .profile-section p {
    @apply text-[0.8rem];
  }
  
  .profile-right {
    @apply pt-3 gap-3;
  }
  
  /* Smaller icons on mobile */
  .newest-badge {
    @apply text-[0.4rem] px-0.5 py-0.5 top-0 -right-1 absolute;
    line-height: 1;
  }
  
  .shiny-sparkles-icon {
    @apply w-3 h-3;
  }
  
  /* Fix shiny indicator alignment on mobile */
  .recent-field .shiny-indicator {
    @apply -top-2 -left-0.5;
  }
  
  /* Recent entries mobile adjustments */
  .recent-field .rank-label {
    @apply text-[0.6rem];
  }
  
  .recent-field .form-type-tag {
    @apply text-[0.55rem] px-0.5 py-0;
  }
  
  .recent-field .profile-pokemon-box .pokemon-img {
    @apply w-12 h-12;
  }
  
  /* Reduce recent entries box padding on mobile */
  .recent-field-box {
    @apply pt-3 pb-1 px-2 min-h-[100px];
  }
  
  .recent-field .profile-rank-item {
    @apply min-h-[100px] pt-2;
  }
}
